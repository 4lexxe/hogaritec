{% extends 'core/base.html' %}
{% load static %}
{% load tags %}

{% block title %}Artículo{% endblock %}

{% block content %}
{% include 'tags/header.html' %}
<main>
    <article class="product">
        <div class="product-image-container">
            <div class="carousel">
                <div class="carousel-slide">
                    <img src="" alt="Imagen Producto - 1">
                </div>
                <div class="carousel-slide">
                    <img src="" alt="Imagen Producto - 2">
                </div>
                <div class="carousel-slide">
                    <img src="" alt="Imagen Producto - 3">
                </div>
                <a href="#" class="carousel-btn prev" aria-label="Imagen anterior">&lt;</a>
                <a href="#" class="carousel-btn next" aria-label="Imagen siguiente">&gt;</a>
            </div>
        </div>
        <div class="product-details">
            <h1 class="product-title">Producto</h1>
            <p class="stock-status">En stock</p>
            <p class="product-price">$12345,67</p>
            <p class="product-description">Descripcion del producto.</p>
            <div class="add-to-cart-container">
                <button class="add-to-cart" aria-label="Añadir Camiseta Clásica al carrito">Agregar al carrito</button>
                <div class="quantity-control">
                    <button class="quantity-btn minus" aria-label="Disminuir cantidad">-</button>
                    <span class="quantity-display" aria-live="polite">1</span>
                    <button class="quantity-btn plus" aria-label="Aumentar cantidad">+</button>
                </div>
            </div>
        </div>
    </article>
</main>
<script>
        document.addEventListener('DOMContentLoaded', function() {
            // Carrusel
            const slides = document.querySelectorAll('.carousel-slide');
            const prevBtn = document.querySelector('.carousel-btn.prev');
            const nextBtn = document.querySelector('.carousel-btn.next');
            let currentSlide = 0;

            function showSlide(n) {
                slides[currentSlide].style.left = '-100%';
                currentSlide = (n + slides.length) % slides.length;
                slides[currentSlide].style.left = '0';
            }

            function nextSlide() {
                showSlide(currentSlide + 1);
            }

            function prevSlide() {
                showSlide(currentSlide - 1);
            }

            nextBtn.addEventListener('click', function(e) {
                e.preventDefault();
                nextSlide();
            });

            prevBtn.addEventListener('click', function(e) {
                e.preventDefault();
                prevSlide();
            });

            // Inicializar el carrusel
            slides.forEach((slide, index) => {
                slide.style.left = index === 0 ? '0' : '100%';
            });

            // Control de cantidad
            const minusBtn = document.querySelector('.quantity-btn.minus');
            const plusBtn = document.querySelector('.quantity-btn.plus');
            const quantityDisplay = document.querySelector('.quantity-display');
            let quantity = 1;

            function updateQuantity(newQuantity) {
                quantity = Math.max(1, newQuantity); // Asegura que la cantidad no sea menor que 1
                quantityDisplay.textContent = quantity;
            }

            minusBtn.addEventListener('click', function() {
                updateQuantity(quantity - 1);
            });

            plusBtn.addEventListener('click', function() {
                updateQuantity(quantity + 1);
            });
        });
    </script>
{% include 'tags/footer.html' %}
{% endblock %}